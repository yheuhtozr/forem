<% _t = "v.notifications.nav" %>
<nav class="hidden m:block pt-4" aria-label="<%= t("aria_label", scope: _t) %>">
  <div>
    <% if @organizations.present? %>
      <h3 class="crayons-subtitle-3 mb-4 pl-2"><%= @user.name %></h3>
    <% end %>
    <a class="crayons-link crayons-link--block <%= "crayons-link--current" if params[:filter].blank? %>" href="/notifications">
      <%= t("all", scope: _t) %>
    </a>
    <a class="crayons-link crayons-link--block <%= "crayons-link--current" if params[:filter].to_s.casecmp("comments").zero? && params[:org_id].blank? %>" href="/notifications/comments">
      <%= t("comments", scope: _t) %>
    </a>
    <a class="crayons-link crayons-link--block <%= "crayons-link--current" if params[:filter].to_s.casecmp("posts").zero? && params[:org_id].blank? %>" href="/notifications/posts">
      <%= t("posts", scope: _t) %>
    </a>
  </div>

  <% if @organizations.present? %>
    <% @organizations.each do |org| %>
      <div class="pt-6">
        <h3 class="crayons-subtitle-3 mb-4 pl-2"><%= org.name %></h3>
        <a class="crayons-link crayons-link--block <%= "crayons-link--current" if params[:filter].to_s.casecmp("org").zero? && params[:org_id].to_i == org.id %>" href="/notifications/org/<%= org.id %>">
          <%= t("all", scope: _t) %>
        </a>
        <a class="crayons-link crayons-link--block <%= "crayons-link--current" if params[:filter].to_s.casecmp("comments").zero? && params[:org_id].to_i == org.id %>" href="/notifications/comments/<%= org.id %>">
          <%= t("comments", scope: _t) %>
        </a>
      </div>
    <% end %>
  <% end %>
</nav>

<nav class="block m:hidden px-4" aria-label="<%= t("aria_label", scope: _t) %>">
  <% if @organizations.present? %>
    <select id="notifications-filter__select" class="crayons-select mb-2">
      <option value="<%= notifications_path %>"><%= @user.name %></option>
      <% @organizations.each do |org| %>
        <option value="<%= notifications_filter_org_path(filter: :org, org_id: org.id) %>" <%= "selected" if params[:org_id].to_i == org.id %>><%= org.name %></option>
      <% end %>
    </select>
  <% end %>

  <div class="crayons-tabs <%= "hidden" if params[:org_id].present? %>">
    <ul class="crayons-tabs__list">
      <li>
        <a data-text="All" class="crayons-tabs__item <%= "crayons-tabs__item--current" if params[:filter].blank? %>" href="/notifications" aria-current="<%= "page" if params[:filter].blank? %>">
          <%= t("all", scope: _t) %>
        </a>
      </li>
      <li>
        <a data-text="Comments" class="crayons-tabs__item <%= "crayons-tabs__item--current" if params[:filter].to_s.casecmp("comments").zero? && params[:org_id].blank? %>" href="/notifications/comments" aria-current="<%= "page" if params[:filter].to_s.casecmp("comments").zero? && params[:org_id].blank? %>">
          <%= t("comments", scope: _t) %>
        </a>
      </li>
      <li>
        <a data-text="Posts" class="crayons-tabs__item <%= "crayons-tabs__item--current" if params[:filter].to_s.casecmp("posts").zero? && params[:org_id].blank? %>" href="/notifications/posts" aria-current="<%= "page" if params[:filter].to_s.casecmp("posts").zero? && params[:org_id].blank? %>">
          <%= t("posts", scope: _t) %>
        </a>
      </li>
    </ul>
  </div>

  <% if @organizations.present? %>
    <% @organizations.each do |org| %>
      <div class="crayons-tabs <%= "hidden" unless params[:org_id].to_i == org.id %>">
        <a data-text="All" class="crayons-tabs__item <%= "crayons-tabs__item--current" if params[:filter].to_s.casecmp("org").zero? && params[:org_id].to_i == org.id %>" href="/notifications/org/<%= org.id %>">
          <%= t("all", scope: _t) %>
        </a>
        <a data-text="Comments" class="crayons-tabs__item <%= "crayons-tabs__item--current" if params[:filter].to_s.casecmp("comments").zero? && params[:org_id].to_i == org.id %>" href="/notifications/comments/<%= org.id %>">
          <%= t("comments", scope: _t) %>
        </a>
      </div>
    <% end %>
  <% end %>
</nav>
